{
  "HashemBuzer": {
    "pastPairs": [
      "OmarBara"
    ]
  },
  "OmarBara": {
    "pastPairs": [
      "HashemBuzer",
      "HeniMezrani"
    ]
  },
  "MohamedAmineAouini": {
    "pastPairs": [
      "HaniaLazreg",
      "AliJalal"
    ]
  },
  "HaniaLazreg": {
    "pastPairs": [
      "MohamedAmineAouini",
      "JihedAbdelly"
    ]
  },
  "MohamedBelkheir": {
    "pastPairs": [
      "MehdiFarjallah",
      "HamamElmurtdh"
    ]
  },
  "MehdiFarjallah": {
    "pastPairs": [
      "MohamedBelkheir",
      "FirasAmous"
    ]
  },
  "AbdelsalamShahlol": {
    "pastPairs": [
      "MohamedFared",
      "OnsRahmani"
    ]
  },
  "MohamedFared": {
    "pastPairs": [
      "AbdelsalamShahlol",
      "ZiedBarhoumi"
    ]
  },
  "FirasAmous": {
    "pastPairs": [
      "HamamElmurtdh",
      "MehdiFarjallah"
    ]
  },
  "HamamElmurtdh": {
    "pastPairs": [
      "FirasAmous",
      "MohamedBelkheir"
    ]
  },
  "ZiedBarhoumi": {
    "pastPairs": [
      "HeniMezrani",
      "MohamedFared"
    ]
  },
  "HeniMezrani": {
    "pastPairs": [
      "ZiedBarhoumi",
      "OmarBara"
    ]
  },
  "SalimAliAlsaeh": {
    "pastPairs": [
      "AliJalal",
      "MohamedSbeta"
    ]
  },
  "AliJalal": {
    "pastPairs": [
      "SalimAliAlsaeh",
      "MohamedAmineAouini"
    ]
  },
  "OnsRahmani": {
    "pastPairs": [
      "NejahSafi",
      "AbdelsalamShahlol"
    ]
  },
  "NejahSafi": {
    "pastPairs": [
      "OnsRahmani",
      "FoozBarakat"
    ]
  },
  "HoudaRouaissi": {
    "pastPairs": [
      "FoozBarakat",
      "MaherBouzid"
    ]
  },
  "FoozBarakat": {
    "pastPairs": [
      "HoudaRouaissi",
      "NejahSafi"
    ]
  },
  "JihedAbdelly": {
    "pastPairs": [
      "MaherBouzid",
      "HaniaLazreg"
    ]
  },
  "MaherBouzid": {
    "pastPairs": [
      "JihedAbdelly",
      "HoudaRouaissi"
    ]
  },
  "MalikAbdullah": {
    "pastPairs": [
      "HamzaDanden",
      "TahaZnazen"
    ]
  },
  "HamzaDanden": {
    "pastPairs": [
      "MalikAbdullah",
      "FaresJelassi"
    ]
  },
  "FaresJelassi": {
    "pastPairs": [
      "TahaZnazen",
      "HamzaDanden"
    ]
  },
  "TahaZnazen": {
    "pastPairs": [
      "FaresJelassi",
      "MalikAbdullah"
    ]
  },
  "KhoubaiebGhaouari": {
    "pastPairs": [
      "WajdiHamrouni",
      "MuftahElzawi"
    ]
  },
  "WajdiHamrouni": {
    "pastPairs": [
      "KhoubaiebGhaouari"
    ]
  },
  "AubaArifElwahieshi": {
    "pastPairs": [
      "AmeraAyad",
      "Mejri",
      "TahaMejri"
    ]
  },
  "AmeraAyad": {
    "pastPairs": [
      "AubaArifElwahieshi"
    ]
  },
  "FaroukGuizeni": {
    "pastPairs": [
      "TahaMejri"
    ]
  },
  "TahaMejri": {
    "pastPairs": [
      "FaroukGuizeni",
      "AubaArifElwahieshi"
    ]
  },
  "FatimaMabrook": {
    "pastPairs": [
      "AnasMarzouki"
    ]
  },
  "AnasMarzouki": {
    "pastPairs": [
      "FatimaMabrook"
    ]
  },
  "AbdoAlabed": {
    "pastPairs": [
      "MohamedAmineSlaimia"
    ]
  },
  "MohamedAmineSlaimia": {
    "pastPairs": [
      "AbdoAlabed"
    ]
  },
  "MohamedDhiaWeslati": {
    "pastPairs": [
      "AhmedWheida"
    ]
  },
  "AhmedWheida": {
    "pastPairs": [
      "MohamedDhiaWeslati"
    ]
  },
  "DhiaRaissi": {
    "pastPairs": [
      "AdamMomen"
    ]
  },
  "AdamMomen": {
    "pastPairs": [
      "DhiaRaissi"
    ]
  },
  "AbdulrahmanShibani": {
    "pastPairs": [
      "SofianSaleh"
    ]
  },
  "SofianSaleh": {
    "pastPairs": [
      "AbdulrahmanShibani"
    ]
  },
  "EssamFaraj": {
    "pastPairs": [
      "MuftahElzawi"
    ]
  },
  "MuftahElzawi": {
    "pastPairs": [
      "EssamFaraj",
      "KhoubaiebGhaouari"
    ]
  },
  "InsafMechergui": {
    "pastPairs": [
      "LinaBenSalem"
    ]
  },
  "LinaBenSalem": {
    "pastPairs": [
      "InsafMechergui"
    ]
  },
  "AdnenBenAbdelaali": {
    "pastPairs": [
      "BilelGharbi",
      "MohamedSbeta"
    ]
  },
  "BilelGharbi": {
    "pastPairs": [
      "AdnenBenAbdelaali",
      "MohamedSbeta"
    ]
  },
  "MohamedSbeta": {
    "pastPairs": [
      "BilelGharbi",
      "AdnenBenAbdelaali",
      "SalimAliAlsaeh"
    ]
  }
}

var Students = {
	HashemBuzer : { pastPairs : ["OmarBara",] },
	OmarBara: { pastPairs : ["HashemBuzer",] },
	MohamedAmineAouini: { pastPairs : ["HaniaLazreg",] },
	HaniaLazreg: { pastPairs : ["MohamedAmineAouini",] },
	MohamedBelkheir: { pastPairs : ["MehdiFarjallah",] },
	MehdiFarjallah: { pastPairs : ["MohamedBelkheir",] },
	AbdelsalamShahlol: { pastPairs : ["MohamedFared",] },
	MohamedFared: { pastPairs : ["AbdelsalamShahlol",] },
	FirasAmous: { pastPairs : ["HamamElmurtdh",] },
	HamamElmurtdh: { pastPairs : ["FirasAmous",] },
	ZiedBarhoumi: { pastPairs : ["HeniMezrani",] },
	HeniMezrani: { pastPairs : ["ZiedBarhoumi",] },
	SalimAliAlsaeh: { pastPairs : ["AliJalal",] },
	AliJalal: { pastPairs : ["SalimAliAlsaeh",] },
	OnsRahmani: { pastPairs : ["NejahSafi",] },
	NejahSafi: { pastPairs : ["OnsRahmani",] },
	HoudaRouaissi: { pastPairs : ["FoozBarakat",] },
	FoozBarakat: { pastPairs : ["HoudaRouaissi",] },
	JihedAbdelly: { pastPairs : ["MaherBouzid",] },
	MaherBouzid: { pastPairs : ["JihedAbdelly",] },
	MalikAbdullah: { pastPairs : ["HamzaDanden",] },
	HamzaDanden: { pastPairs : ["MalikAbdullah",] },
	FaresJelassi: { pastPairs : ["TahaZnazen",] },
	TahaZnazen: { pastPairs : ["FaresJelassi",] },
	KhoubaiebGhaouari: { pastPairs : ["WajdiHamrouni",] },
	WajdiHamrouni: { pastPairs : ["KhoubaiebGhaouari",] },
	AubaArifElwahieshi: { pastPairs : ["AmeraAyad",] },
	AmeraAyad: { pastPairs : ["AubaArifElwahieshi",] },
	FaroukGuizeni: { pastPairs : ["TahaMejri",] },
	TahaMejri: { pastPairs : ["FaroukGuizeni",] },
	FatimaMabrook: { pastPairs : ["AnasMarzouki",] },
	AnasMarzouki: { pastPairs : ["FatimaMabrook",] },
	AbdoAlabed: { pastPairs : ["MohamedAmineSlaimia",] },
	MohamedAmineSlaimia: { pastPairs : ["AbdoAlabed",] },
	MohamedDhiaWeslati: { pastPairs : ["AhmedWheida",] },
 	AhmedWheida : { pastPairs : ["MohamedDhiaWeslati",] },
	DhiaRaissi: { pastPairs : ["AdamMomen",] },
	AdamMomen: { pastPairs : ["DhiaRaissi",] },
	AbdulrahmanShibani: { pastPairs : ["SofianSaleh",] },
	SofianSaleh: { pastPairs : ["AbdulrahmanShibani",] },
	EssamFaraj: { pastPairs : ["MuftahElzawi",] },
	MuftahElzawi: { pastPairs : ["EssamFaraj",] },
	InsafMechergui: { pastPairs : ["LinaBenSalem",] },
	LinaBenSalem: { pastPairs : ["InsafMechergui",] },
	AdnenBenAbdelaali: { pastPairs : ["BilelGharbi","MohamedSbeta",] },
	BilelGharbi: { pastPairs : ["AdnenBenAbdelaali","MohamedSbeta",] },
	MohamedSbeta: { pastPairs : ["BilelGharbi","AdnenBenAbdelaali",] },
}

function each(coll, f) {
  if (Array.isArray(coll)) {
    for (var i = 0; i < coll.length; i++) {
      f(coll[i], i);
    }
  } else {
    for (var key in coll) {
      f(coll[key], key);
    }
  }
}

function filter(array, predicate) {
  var acc = [];
  each(array, function(element, i) {
    if (predicate(element, i)) {
      acc.push(element);
    }
  });
  return acc;
}

function filterOut(studentList,pairsList){
    var arr = studentList;
	return filter(arr,function(element){
	   return pairsList.includes(element) === false;
	})
}

function chosePair(student,listOfStudents){
	var arr = filterOut(listOfStudents,Students[student].pastPairs);
	arr.splice(arr.indexOf(student),1)
	return [student, arr[Math.floor(Math.random() * Math.floor(arr.length))]];
}

function addToPastpairs (arr){
	Students[arr[0]].pastPairs.push(arr[1])
	Students[arr[1]].pastPairs.push(arr[0])
}

function pairing(studnetData) {

	var list = Object.keys(studnetData);
	var pairs = [];
	while(list.length > 0){
		var arr = chosePair(list[0],list);
		addToPastpairs(arr)
		list.splice(0,1)
		list.splice(list.indexOf(arr[1]),1)
		pairs.push(arr);
	}
  return pairs;
}